<Application 
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    x:Class="JamBox.Core.App"
    RequestedThemeVariant="Default" 
    xmlns:local="clr-namespace:JamBox.Core"
    xmlns:converters="using:JamBox.Core.Converters">

    <Application.DataTemplates>
        <local:ViewLocator/>
    </Application.DataTemplates>

    <Application.Styles>
        <FluentTheme />

        <Style Selector="TextBlock.Header">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#66CCCC"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
        </Style>

        <Style Selector="TextBlock.SubHeader">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#99CCCC"/>
            <Setter Property="Margin" Value="0,5,0,2"/>
        </Style>
        
        <Style Selector="TextBox.custom-textbox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#03A3DC"/>
            <Setter Property="CornerRadius" Value="5"/>
            <Setter Property="Padding" Value="8"/>
        </Style>

        <Style Selector="TextBox.custom-textbox/template/Border#PART_BorderElement">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <Style Selector="Button.custom-button">
            <Setter Property="Background" Value="#03A3DC"/>
            <Setter Property="CornerRadius" Value="5" />
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style Selector="Button.custom-button:disabled /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="#03A3DC"/>
            <Setter Property="Opacity" Value="0.6" />
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style Selector="Button.transparent-button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="CornerRadius" Value="5" />
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style Selector="Button.transparent-button:disabled /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Opacity" Value="0.6" />
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style Selector="ScrollViewer">
            <Setter Property="Background" Value="#1a202c"/>
        </Style>

        <Style Selector="ListBox">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <!-- Target the main template border -->
        <Style Selector="ListBox /template/ Border">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <!-- Target the ScrollViewer background -->
        <Style Selector="ListBox /template/ ScrollViewer">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <!-- Target specific template parts that FluentTheme might use -->
        <Style Selector="ListBox /template/ Border#PART_Border">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <Style Selector="Application">
            <Style.Resources>
                <converters:BooleanToTextConverter x:Key="BooleanToTextConverter"/>
                <converters:ConnectionStatusToColorConverter x:Key="ConnectionStatusToColorConverter"/>
                <converters:IsNotNullConverter x:Key="IsNotNullConverter"/>
                <converters:IsGreaterThanZeroConverter x:Key="IsGreaterThanZeroConverter"/>
                <converters:UrlToBitmapConverter x:Key="UrlToBitmapConverter"/>
            </Style.Resources>
        </Style>
    </Application.Styles>
</Application>